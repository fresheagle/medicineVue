webpackJsonp([12,36],{"0PFw":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),s=a.n(i),n=a("Q3je"),o=a("CaM2"),l={props:{rowData:{},curTaskType:""},data:function(){return{enumerate:o.a,formData:{taskStatus:"",taskType:"",taskMenuType:"miss_disease",taskTitle:"",taskChangeVote:"",taskChangePoints:"",taskChangeComments:"",jsonStr:{chinese_name:"",english_name:"",other_name:"",latin_name:"",related_diseases:"",disease_type:"chinese",location_pid:"",location_disease:"",main_causes:"",common_symptom:"",multiple_population:"",infectivity:1,sea_characteristic:"",department_pid:"",department_id:"",clinical_types_class:"",clinical_manifestation:"",sign:"",laboratory_examination:"",diagnostic_points:"",differential_diagnosis:"",prevention_treatment:"",treatment_prognosis:"",preventive_nursing:"",nursing:"",prevention_measures:"",dietary_conditioning:"",drug_resistance:"",attention_matter:"",picture_path:"",thumbnail:"",dataStatus:""}}}},methods:{cancelBtn:function(){this.$emit("update:visible",!1)},submitNext:function(){var t=this;this.formData.taskType=this.curTaskType,Object(n.a)(this.formData).then(function(e){t.isShowSubmit=!1})}},watch:{rowData:function(t,e){this.formData=s()({},t)}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",t._g(t._b({attrs:{title:"提交审核","append-to-body":!0,width:"30%"}},"el-dialog",t.$attrs,!1),t.$listeners),[a("div",[a("el-form",{ref:"formData",attrs:{"label-width":"150px",model:t.formData}},[a("el-form-item",{attrs:{label:"请选择审核流程节点"}},[a("el-select",{model:{value:t.formData.jsonStr.taskStatu,callback:function(e){t.$set(t.formData.jsonStr,"taskStatu",e)},expression:"formData.jsonStr.taskStatu"}},t._l(t.enumerate.taskStatus,function(t){return a("el-option",{key:t.id,attrs:{label:t.value,value:t.id}})}))],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelBtn}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.submitNext}},[t._v("确 定")])],1)])},staticRenderFns:[]},c=a("VU/8")(l,r,!1,null,null,null);e.default=c.exports},"2Vc1":function(t,e,a){var i=a("bgex");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("85933a44",i,!0)},WJZ6:function(t,e,a){"use strict";e.a={zh:{i18nView:{taskId:"任务ID",taskVersion:"版本",taskStatus:"任务状态",taskType:"任务类型",taskMenuType:"任务类别",taskTitle:"标题",taskChangeVote:"taskChangeVote",taskChangePoints:"taskChangePoints",taskChangeComments:"taskChangeComments",chinese_name:"中文名称",english_name:"英文名称",other_name:"其他名称",latin_name:"拉丁名称",related_diseases:"相关疾病",disease_type:"疾病分类",location_pid:"主发病部位",location_disease:"次发病部位",main_causes:"主要病因",common_symptom:"常见症状",multiple_population:"多发群体",infectivity:"传染性",sea_characteristic:"季节特点",department_pid:"科室父级",department_id:"就诊科室",clinical_types_class:"临床类型和分类",clinical_manifestation:"临床表现",sign:"体征",laboratory_examination:"实验室检查",diagnostic_points:"诊断要点",differential_diagnosis:"鉴别诊断",prevention_treatment:"并发症及防治",treatment_prognosis:"治疗与预后",preventive_nursing:"预防调护",nursing:"护理",prevention_measures:"防治措施",dietary_conditioning:"膳食调理",drug_resistance:"耐药性",attention_matter:"注意事项",picture_path:"图片路径",thumbnail:"缩略图",dataStatus:"数据状态"}},en:{i18nView:{title:"Switch Language",note:"Currently only translated the i18n page and the sidebar and levelbar, please look forword to...",datePlaceholder:"Pick a day",tableDate:"tableDate",tableName:"tableName",tableAddress:"tableAddress",default:"default:",primary:"primary",success:"success",info:"info",warning:"warning",danger:"danger"}}}},bgex:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"\n.demo-table-expand {\n  font-size: 0;\n}\n.demo-table-expand label {\n  width: 120px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n",""])},"qE2/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),s=a.n(i),n=a("Q3je"),o=(a("CaM2"),a("8xpI")),l=a("NmsP"),r=a("0PFw"),c=a("WJZ6"),u={components:{createBasicsDialog:o.default,deleteDialog:l.default,submitNextDialog:r.default},data:function(){return{i18n:c.a.zh.i18nView,tableList:[{taskId:"123",taskStatus:"草稿箱",taskType:"新建",taskMenuType:"miss_disease",taskTitle:"测试1",taskChangeVote:"121",taskChangePoints:"123",taskChangeComments:"阿斯顿",jsonStr:{chinese_name:"中文名字",english_name:"英文",other_name:"其他",latin_name:"",related_diseases:"",disease_type:"chinese",location_pid:"",location_disease:"",main_causes:"",common_symptom:"",multiple_population:"",infectivity:1,sea_characteristic:"",department_pid:"",department_id:"",clinical_types_class:"",clinical_manifestation:"",sign:"",laboratory_examination:"",diagnostic_points:"",differential_diagnosis:"",prevention_treatment:"",treatment_prognosis:"",preventive_nursing:"",nursing:"",prevention_measures:"",dietary_conditioning:"",drug_resistance:"",attention_matter:"",picture_path:"",thumbnail:"",dataStatus:""}}],listLoading:!0,isShowCreateVisible:!1,isShowEditVisible:!1,isShowCompare:!1,isShowSubmit:!1,deleteVisible:!1,isShowComResoultDialog:!1,formData:{taskStatus:"",taskType:"",taskMenuType:"miss_disease",taskTitle:"",taskChangeVote:"",taskChangePoints:"",taskChangeComments:"",jsonStr:{chinese_name:"",english_name:"",other_name:"",latin_name:"",related_diseases:"",disease_type:"chinese",location_pid:"",location_disease:"",main_causes:"",common_symptom:"",multiple_population:"",infectivity:1,sea_characteristic:"",department_pid:"",department_id:"",clinical_types_class:"",clinical_manifestation:"",sign:"",laboratory_examination:"",diagnostic_points:"",differential_diagnosis:"",prevention_treatment:"",treatment_prognosis:"",preventive_nursing:"",nursing:"",prevention_measures:"",dietary_conditioning:"",drug_resistance:"",attention_matter:"",picture_path:"",thumbnail:"",dataStatus:""}},versionData:[{taskId:1,taskTitle:"测试1",taskVersion:"1.0",taskMenuType:"基础疾病"},{taskId:2,taskTitle:"测试2",taskVersion:"2.0",taskMenuType:"基础疾病"},{taskId:3,taskTitle:"测试3",taskVersion:"3.0",taskMenuType:"基础疾病"}],leftVersionData:{taskId:1,taskTitle:"测试1",taskVersion:"1.0",taskMenuType:"基础疾病"},leftVersionKeyArr:[],rightVersionData:{taskId:1,taskTitle:"测试1",taskVersion:"2.0",taskMenuType:"基础疾病"},multipleSelection:[],total:0,page:1,pageSize:10,status:[{statusId:1,label:"启用"},{statusId:0,label:"禁用"}],value:"",searchName:"",filterTableDataEnd:[],curRowData:{},curTaskType:""}},created:function(){this.$i18n.getLocaleMessage("en").i18nView||(this.$i18n.mergeLocaleMessage("en",c.a.en),this.$i18n.mergeLocaleMessage("zh",c.a.zh)),this.fetchData()},filters:{statusFilter:function(t){return{1:"success",2:"danger"}[t]}},methods:{fetchData:function(){var t=this;this.listLoading=!1;Object(n.b)({currentPage:1,pageSize:1e3}).then(function(e){var a=e.data.params.filter(function(e,a){return a<10*t.page&&a>=10*(t.page-1)});console.log(a),t.total=e.data.total,t.listLoading=!1})},doCreate:function(){this.curTaskType="create",this.curRowData=s()({},this.formData),this.isShowCreateVisible=!0},doFilter:function(){var t=this;""!==this.searchName?(this.filterTableDataEnd=[],this.tableList.forEach(function(e,a){e.taskTitle&&e.taskTitle.indexOf(t.searchName)>=0&&(t.filterTableDataEnd.push(e),console.log(t.filterTableDataEnd))}),this.page=1,this.total=this.filterTableDataEnd.length,this.currentChangePage(this.filterTableDataEnd)):this.fetchData()},clickfun:function(t){console.log(t.target.innerText)},handleUpdate:function(t){this.curTaskType="update",this.curRowData=s()({},t),this.isShowCreateVisible=!0},editSaveOK:function(){var t=this;this.formData.taskStatus="drafts",this.formData.taskType="update",Object(n.a)(this.formData).then(function(e){t.isShowEditVisible=!1})},editSubmitOK:function(){var t=this;this.formData.taskStatus="toFirAudited",this.formData.taskType="update",Object(n.a)(this.formData).then(function(e){t.isShowEditVisible=!1})},deleteUpdate:function(t){this.deleteVisible=!0,this.curRowData=s()({},t)},submitDelete:function(){var t=this;this.formData.taskType="delete";var e=s()({},this.formData);Object(n.a)(e).then(function(e){t.deleteVisible=!1,t.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3})})},handleModifyStatus:function(t,e){this.$message({message:"操作成功",type:"success"}),console.log(t),t.status=e},handleSubmit:function(t){this.isShowSubmit=!0,this.curTaskType="update",this.formData=s()({},t)},submitNext:function(){var t=this;Object(n.a)(this.formData).then(function(e){t.isShowSubmit=!1})},handleCompare:function(t){var e=this;this.isShowCompare=!0,Object(n.a)(t.taskId).then(function(t){e.isShowCompare=!1,e.versionData=t.data})},handleVersionSelectionChange:function(t){this.multipleSelection=t},compareOk:function(){for(var t in this.leftVersionData)this.leftVersionKeyArr.push(t);this.isShowComResoultDialog=!0},updateData:function(){var t=s()({},this.temp);console.log(t)},handleSizeChange:function(t){this.page=t,console.log(this.page),this.fetchData()},handleCurrentChange:function(t){this.page=t,console.log(this.page),this.fetchData()},currentChangePage:function(t){var e=(this.page-1)*this.pageSize,a=this.page*this.pageSize;for(this.tableList=[];e<a;e++)t[e]&&this.tableList.push(t[e])}},computed:{lang:{get:function(){return this.$store.state.app.language},set:function(t){this.$i18n.locale=t,this.$store.dispatch("setLanguage",t)}}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px"},attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名"},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doFilter()}}},[a("i",{staticClass:"el-icon-search"}),t._v("搜索")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.doCreate()}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableList,border:"","element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{type:"expand"}}),t._v(" "),a("el-table-column",{attrs:{prop:"taskTitle",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"taskType",label:"任务类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"taskMenuType",label:"疾病类别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"taskStatus",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"taskChangeVote",label:"评分"}}),t._v(" "),a("el-table-column",{attrs:{prop:"taskId",label:"更新时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作 "},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleUpdate(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleSubmit(e.row)}}},[t._v("提交")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleCompare(e.row)}}},[t._v("对比")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.deleteUpdate(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{staticStyle:{"text-align":"center"},attrs:{layout:"total, prev, pager, next",background:"","page-size":10,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:"版本比对",visible:t.isShowCompare,"append-to-body":!0,width:"30%"},on:{"update:visible":function(e){t.isShowCompare=e}}},[a("div",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.versionData,"tooltip-effect":"dark"},on:{"selection-change":t.handleVersionSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"taskTitle",label:"标题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"taskVersion",label:"版本"}}),t._v(" "),a("el-table-column",{attrs:{prop:"taskMenuType",label:"数据源","show-overflow-tooltip":""}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.isShowCompare=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.compareOk}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"版本比对结果",visible:t.isShowComResoultDialog,"append-to-body":!0,width:"80%"},on:{"update:visible":function(e){t.isShowComResoultDialog=e}}},[a("div",[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",[a("el-row",t._l(t.leftVersionKeyArr,function(e){return a("el-col",{attrs:{span:8}},[a("span",[t._v(" "+t._s(t.i18n[e])+":")]),t._v(" "),t.leftVersionData[e]===t.rightVersionData[e]?a("span",[t._v(t._s(t.leftVersionData[e]))]):a("span",{staticStyle:{color:"#ff0000"}},[t._v(t._s(t.leftVersionData[e]))])])}))],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",[a("el-row",t._l(t.leftVersionKeyArr,function(e){return a("el-col",{attrs:{span:8}},[a("span",[t._v(" "+t._s(t.i18n[e])+":")]),t._v(" "),a("span",[t._v(t._s(t.rightVersionData[e]))])])}))],1)])],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.isShowComResoultDialog=!1}}},[t._v("关闭")])],1)]),t._v(" "),a("create-basics-dialog",{attrs:{visible:t.isShowCreateVisible,"row-data":t.curRowData,"cur-task-type":t.curTaskType},on:{"update:visible":function(e){t.isShowCreateVisible=e}}}),t._v(" "),a("delete-dialog",{attrs:{visible:t.deleteVisible,"row-data":t.curRowData,"cur-task-type":t.curTaskType},on:{"update:visible":function(e){t.deleteVisible=e}}}),t._v(" "),a("submit-next-dialog",{attrs:{visible:t.isShowSubmit,"row-data":t.curRowData,"cur-task-type":t.curTaskType},on:{"update:visible":function(e){t.isShowSubmit=e}}})],1)},staticRenderFns:[]};var d=a("VU/8")(u,p,!1,function(t){a("2Vc1")},null,null);e.default=d.exports}});